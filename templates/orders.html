<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>All Orders</title>
    <script src="https://cdn.tailwindcss.com"></script>
		<script src="{{ url_for('static', filename='tailwind.js') }}"></script>
</head>

<body class="bg-neutralLight min-h-screen text-gray-900">

    <main class="max-w-4xl mx-auto p-6 space-y-12">

        <!-- Page Heading -->
        <h1 class="text-4xl font-bold text-brand text-center mb-8">Rental Orders</h1>

        <!-- Active Rentals -->
        <section>
            <h2 class="text-2xl font-bold mb-4">Active Rentals</h2>
            {% if active_orders %}
                <div class="space-y-6">
                    {% for order in active_orders %}
                    <div class="bg-white rounded-2xl shadow-lg p-6 space-y-4">
                        <div class="font-semibold text-lg">Order #{{ order.orderId }} - {{ order.name }}</div>
                        <div class="text-sm text-brand">
													<a href="tel:{{ order.phone }}" class="underline">{{ order.phone }}</a>
												</div>
                        <div class="text-sm text-gray-500">Placed: {{ order.timestamp }}</div>

                        <!-- Items list -->
                        <ul class="mt-4 space-y-1">
                            {% for item in get_order_items(order.orderId) %}
                            <li class="p-2 border rounded-lg bg-accent2 flex justify-between">
                                <span>{{ item.itemId }}</span>
                                <span class="text-sm text-gray-700">
                                    Lent: {{ item.lent }} | Returned: {{ item.returned }}
                                </span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="text-gray-500">No active rentals.</div>
            {% endif %}
        </section>

        <!-- Archived Rentals -->
        <section>
            <h2 class="text-2xl font-bold mb-4">Archived Rentals</h2>
            {% if archived_orders %}
                <div class="space-y-6">
                    {% for order in archived_orders %}
                    <div class="bg-gray-100 rounded-2xl shadow-lg p-6 space-y-4">
                        <div class="font-semibold text-lg">Order #{{ order.orderId }} - {{ order.name }}</div>
												<div class="text-sm text-gray-500">
														<a href="tel:{{ order.phone }}" class="underline">{{ order.phone }}</a>
												</div>
                        <div class="text-sm text-gray-500">Placed: {{ order.timestamp }}</div>

                        <!-- Items list -->
                        <ul class="mt-4 space-y-1">
                            {% for item in get_archive_items(order.orderId) %}
                            <li class="p-2 border rounded-lg bg-accent2 flex justify-between">
                                <span>{{ item.itemId }}</span>
                                <span class="text-sm text-gray-700">
                                    Lent: {{ item.lent }} | Returned: {{ item.returned }}
                                </span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="text-gray-500">No archived rentals.</div>
            {% endif %}
        </section>

    </main>

</body>

</html>
